{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _closest = _interopRequireDefault(require(\"dom-helpers/closest\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _AddToListOption = _interopRequireWildcard(require(\"./AddToListOption\"));\n\nvar _Icon = require(\"./Icon\");\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _FocusListContext = require(\"./FocusListContext\");\n\nvar _MultiselectInput = _interopRequireDefault(require(\"./MultiselectInput\"));\n\nvar _MultiselectTagList = _interopRequireDefault(require(\"./MultiselectTagList\"));\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _messages = require(\"./messages\");\n\nvar _A11y = require(\"./A11y\");\n\nvar _Filter = require(\"./Filter\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nvar _canShowCreate = _interopRequireDefault(require(\"./canShowCreate\"));\n\nvar _Accessors = require(\"./Accessors\");\n\nvar _useDropdownToggle = _interopRequireDefault(require(\"./useDropdownToggle\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nvar _PickerCaret = _interopRequireDefault(require(\"./PickerCaret\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst ENTER = 13;\nconst INSERT = 'insert';\nconst REMOVE = 'remove';\nlet propTypes = {\n  data: _propTypes.default.array,\n  //-- controlled props --\n  value: _propTypes.default.array,\n\n  /**\n   * @type {function (\n   *  dataItems: ?any[],\n   *  metadata: {\n   *    dataItem: any,\n   *    action: 'insert' | 'remove',\n   *    originalEvent: SyntheticEvent,\n   *    lastValue: ?any[],\n   *    searchTerm: ?string\n   *  }\n   * ): void}\n   */\n  onChange: _propTypes.default.func,\n  searchTerm: _propTypes.default.string,\n\n  /**\n   * @type {function (\n   *  searchTerm: ?string,\n   *  metadata: {\n   *    action: 'clear' | 'input',\n   *    lastSearchTerm: ?string,\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onSearch: _propTypes.default.func,\n  open: _propTypes.default.bool,\n  handleOpen: _propTypes.default.func,\n  //-------------------------------------------\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  renderTagValue: _propTypes.default.func,\n  renderListItem: _propTypes.default.func,\n  renderListGroup: _propTypes.default.func,\n  groupBy: CustomPropTypes.accessor,\n  allowCreate: _propTypes.default.oneOf([true, false, 'onFilter']),\n\n  /**\n   *\n   * @type { (dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void }\n   */\n  onSelect: _propTypes.default.func,\n\n  /**\n   * @type { (searchTerm: string) => void }\n   */\n  onCreate: _propTypes.default.func,\n  busy: _propTypes.default.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: _propTypes.default.node,\n\n  /** Specify the element used to render tag clear icons. */\n  clearTagIcon: _propTypes.default.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: _propTypes.default.node,\n  dropUp: _propTypes.default.bool,\n  popupTransition: _propTypes.default.elementType,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  inputProps: _propTypes.default.object,\n  listProps: _propTypes.default.object,\n  autoFocus: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n\n  /** Continue to show the input placeholder even if tags are selected */\n  showPlaceholderWithValues: _propTypes.default.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  messages: _propTypes.default.shape({\n    open: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message,\n    tagsLabel: CustomPropTypes.message,\n    selectedItems: CustomPropTypes.message,\n    noneSelected: CustomPropTypes.message,\n    removeLabel: CustomPropTypes.message\n  })\n};\nconst EMPTY_ARRAY = [];\n\nfunction useMultiselectData(value = EMPTY_ARRAY, data, accessors, filter, searchTerm) {\n  data = (0, _react.useMemo)(() => data.filter(i => !value.some(v => accessors.matches(i, v))), [data, value, accessors]);\n  return [(0, _Filter.useFilteredData)(data, filter || false, searchTerm, accessors.text), data.length];\n}\n/**\n * ---\n * shortcuts:\n *   - { key: left arrow, label: move focus to previous tag }\n *   - { key: right arrow, label: move focus to next tag }\n *   - { key: delete, deselect focused tag }\n *   - { key: backspace, deselect next tag }\n *   - { key: alt + up arrow, label: close Multiselect }\n *   - { key: down arrow, label: open Multiselect, and move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: ctrl + enter, label: create new tag from current searchTerm }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * A select listbox alternative.\n *\n * @public\n */\n\n\nconst MultiselectImpl = _react.default.forwardRef(function Multiselect(_ref, outerRef) {\n  let {\n    dataKey,\n    textField,\n    autoFocus,\n    id,\n    value,\n    defaultValue = [],\n    onChange,\n    open,\n    defaultOpen = false,\n    onToggle,\n    focusFirstItem = false,\n    searchTerm,\n    defaultSearchTerm = '',\n    onSearch,\n    filter = 'startsWith',\n    allowCreate = false,\n    className,\n    containerClassName,\n    placeholder,\n    busy,\n    disabled,\n    readOnly,\n    selectIcon,\n    clearTagIcon = _Icon.times,\n    busySpinner,\n    dropUp,\n    tabIndex,\n    popupTransition,\n    showPlaceholderWithValues = false,\n    onSelect,\n    onCreate,\n    onKeyDown,\n    onBlur,\n    onFocus,\n    inputProps,\n    listProps,\n    renderListItem,\n    renderListGroup,\n    renderTagValue,\n    optionComponent,\n    tagOptionComponent,\n    groupBy,\n    listComponent: ListComponent = _List.default,\n    data: rawData = [],\n    messages: userMessages\n  } = _ref,\n      elementProps = _objectWithoutProperties(_ref, [\"dataKey\", \"textField\", \"autoFocus\", \"id\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"focusFirstItem\", \"searchTerm\", \"defaultSearchTerm\", \"onSearch\", \"filter\", \"allowCreate\", \"className\", \"containerClassName\", \"placeholder\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"clearTagIcon\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"showPlaceholderWithValues\", \"onSelect\", \"onCreate\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"inputProps\", \"listProps\", \"renderListItem\", \"renderListGroup\", \"renderTagValue\", \"optionComponent\", \"tagOptionComponent\", \"groupBy\", \"listComponent\", \"data\", \"messages\"]);\n\n  let [currentValue, handleChange] = (0, _uncontrollable.useUncontrolledProp)(value, defaultValue, onChange);\n  const [currentOpen, handleOpen] = (0, _uncontrollable.useUncontrolledProp)(open, defaultOpen, onToggle);\n  const [currentSearch, handleSearch] = (0, _uncontrollable.useUncontrolledProp)(searchTerm, defaultSearchTerm, onSearch);\n  const ref = (0, _react.useRef)(null);\n  const inputRef = (0, _react.useRef)(null);\n  const listRef = (0, _react.useRef)(null);\n  const inputId = (0, _WidgetHelpers.useInstanceId)(id, '_input');\n  const tagsId = (0, _WidgetHelpers.useInstanceId)(id, '_taglist');\n  const notifyId = (0, _WidgetHelpers.useInstanceId)(id, '_notify_area');\n  const listId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox');\n  const createId = (0, _WidgetHelpers.useInstanceId)(id, '_createlist_option');\n  const activeTagId = (0, _WidgetHelpers.useInstanceId)(id, '_taglist_active_tag');\n  const activeOptionId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox_active_option');\n  const accessors = (0, _Accessors.useAccessors)(textField, dataKey);\n  const messages = (0, _messages.useMessagesWithDefaults)(userMessages);\n  const toggle = (0, _useDropdownToggle.default)(currentOpen, handleOpen);\n  const isDisabled = disabled === true;\n  const isReadOnly = !!readOnly;\n  const [focusEvents, focused] = (0, _useFocusManager.default)(ref, {\n    disabled: isDisabled,\n    onBlur,\n    onFocus\n  }, {\n    didHandle(focused, event) {\n      if (focused) return focus();\n      toggle.close();\n      clearSearch(event);\n      tagList.focus(null);\n    }\n\n  });\n  const dataItems = (0, _react.useMemo)(() => currentValue.map(item => accessors.findOrSelf(rawData, item)), [rawData, currentValue, accessors]);\n  const [data, lengthWithoutValues] = useMultiselectData(dataItems, rawData, accessors, currentOpen ? filter : false, currentSearch);\n  const list = (0, _FocusListContext.useFocusList)({\n    scope: ref,\n    scopeSelector: '.rw-popup',\n    focusFirstItem,\n    activeId: activeOptionId\n  });\n  const tagList = (0, _FocusListContext.useFocusList)({\n    scope: ref,\n    scopeSelector: '.rw-multiselect-taglist',\n    activeId: activeTagId\n  });\n  const showCreateOption = (0, _canShowCreate.default)(allowCreate, {\n    searchTerm: currentSearch,\n    data,\n    dataItems,\n    accessors\n  });\n  /**\n   * Update aria when it changes on update\n   */\n\n  const focusedTag = tagList.getFocused();\n  (0, _react.useEffect)(() => {\n    if (currentOpen) return;\n    (0, _A11y.setActiveDescendant)(inputRef.current, focusedTag ? activeTagId : '');\n  }, [activeTagId, currentOpen, focusedTag]);\n  const focusedItem = list.getFocused();\n  (0, _react.useEffect)(() => {\n    if (!currentOpen) return; // if (focusedItem) tagList.focus(null)\n\n    (0, _A11y.setActiveDescendant)(inputRef.current, focusedItem ? activeOptionId : '');\n  }, [activeOptionId, currentOpen, focusedItem]);\n  /**\n   * Event Handlers\n   */\n\n  const handleDelete = (dataItem, event) => {\n    if (isDisabled || readOnly) return;\n    focus();\n    change(dataItem, event, REMOVE);\n  };\n\n  const deletingRef = (0, _react.useRef)(false);\n\n  const handleSearchKeyDown = e => {\n    if (e.key === 'Backspace' && e.currentTarget.value && !deletingRef.current) deletingRef.current = true;\n  };\n\n  const handleSearchKeyUp = e => {\n    if (e.key === 'Backspace' && deletingRef.current) {\n      deletingRef.current = false;\n    }\n  };\n\n  const handleInputChange = e => {\n    search(e.target.value, e, 'input');\n    toggle.open();\n  };\n\n  const handleClick = ({\n    target\n  }) => {\n    if (isDisabled || readOnly) return;\n    focus();\n\n    if ((0, _closest.default)(target, '.rw-select') && currentOpen) {\n      toggle.close();\n    } else toggle.open();\n  };\n\n  const handleDoubleClick = () => {\n    if (isDisabled || !inputRef.current) return;\n    focus();\n    if (inputRef.current) inputRef.current.select();\n  };\n\n  const handleSelect = (dataItem, originalEvent) => {\n    if (dataItem === undefined) return;\n\n    if (dataItem === _AddToListOption.CREATE_OPTION) {\n      handleCreate(originalEvent);\n      return;\n    }\n\n    (0, _WidgetHelpers.notify)(onSelect, [dataItem, {\n      originalEvent\n    }]);\n    change(dataItem, originalEvent, INSERT);\n    focus();\n  };\n\n  const handleCreate = event => {\n    (0, _WidgetHelpers.notify)(onCreate, [currentSearch]);\n    clearSearch(event);\n    focus();\n  };\n\n  const handleKeyDown = event => {\n    if (readOnly) {\n      event.preventDefault();\n      return;\n    }\n\n    let {\n      key,\n      keyCode,\n      altKey,\n      ctrlKey\n    } = event;\n    (0, _WidgetHelpers.notify)(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n\n    if (key === 'ArrowDown') {\n      event.preventDefault();\n\n      if (!currentOpen) {\n        toggle.open();\n        return;\n      }\n\n      list.focus(list.next());\n      tagList.focus(null);\n    } else if (key === 'ArrowUp' && (currentOpen || altKey)) {\n      event.preventDefault();\n\n      if (altKey) {\n        toggle.close();\n        return;\n      }\n\n      list.focus(list.prev());\n      tagList.focus(null);\n    } else if (key === 'End') {\n      event.preventDefault();\n\n      if (currentOpen) {\n        list.focus(list.last());\n        tagList.focus(null);\n      } else {\n        tagList.focus(tagList.last());\n        list.focus(null);\n      }\n    } else if (key === 'Home') {\n      event.preventDefault();\n      if (currentOpen) list.focus(list.first());else list.focus(tagList.first());\n    } else if (currentOpen && keyCode === ENTER) {\n      // using keyCode to ignore enter for japanese IME\n      event.preventDefault();\n\n      if (ctrlKey && showCreateOption) {\n        return handleCreate(event);\n      }\n\n      handleSelect(list.getFocused(), event);\n    } else if (key === 'Escape') {\n      if (currentOpen) toggle.close();else tagList.focus(null); //\n    } else if (!currentSearch && !deletingRef.current) {\n      //\n      if (key === 'ArrowLeft') {\n        tagList.focus(tagList.prev({\n          behavior: 'loop'\n        }));\n      } else if (key === 'ArrowRight') {\n        tagList.focus(tagList.next({\n          behavior: 'loop'\n        })); //\n      } else if (key === 'Delete' && tagList.getFocused()) {\n        handleDelete(tagList.getFocused(), event); //\n      } else if (key === 'Backspace') {\n        handleDelete(tagList.toDataItem(tagList.last()), event);\n      } else if (key === ' ' && !currentOpen) {\n        event.preventDefault();\n        toggle.open();\n      }\n    }\n  };\n  /**\n   * Methods\n   */\n\n\n  function change(dataItem, originalEvent, action) {\n    let nextDataItems = dataItems;\n\n    switch (action) {\n      case INSERT:\n        nextDataItems = nextDataItems.concat(dataItem);\n        break;\n\n      case REMOVE:\n        nextDataItems = nextDataItems.filter(d => d !== dataItem);\n        break;\n    }\n\n    handleChange(nextDataItems, {\n      action,\n      dataItem,\n      originalEvent,\n      searchTerm: currentSearch,\n      lastValue: currentValue\n    });\n    clearSearch(originalEvent);\n  }\n\n  function clearSearch(originalEvent) {\n    search('', originalEvent, 'clear');\n  }\n\n  function search(nextSearchTerm, originalEvent, action = 'input') {\n    if (nextSearchTerm !== currentSearch) handleSearch(nextSearchTerm, {\n      action,\n      originalEvent,\n      lastSearchTerm: currentSearch\n    });\n  }\n\n  function focus() {\n    if (inputRef.current) inputRef.current.focus();\n  }\n  /**\n   * Render\n   */\n\n\n  (0, _react.useImperativeHandle)(outerRef, () => ({\n    focus\n  }));\n  let shouldRenderPopup = (0, _WidgetHelpers.useFirstFocusedRender)(focused, currentOpen);\n  let itemLabels = dataItems.map(item => accessors.text(item));\n  let shouldRenderTags = !!dataItems.length;\n  let inputOwns = `${listId} ${notifyId} ` + (shouldRenderTags ? tagsId : '') + (showCreateOption ? createId : '');\n  return /*#__PURE__*/_react.default.createElement(_Widget.default, Object.assign({}, elementProps, {\n    ref: ref,\n    open: currentOpen,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    className: (0, _classnames.default)(className, 'rw-multiselect')\n  }), /*#__PURE__*/_react.default.createElement(\"span\", {\n    id: notifyId,\n    role: \"status\",\n    className: \"rw-sr\",\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": \"true\",\n    \"aria-relevant\": \"all\"\n  }, focused && (dataItems.length ? messages.selectedItems(itemLabels) : messages.noneSelected())), /*#__PURE__*/_react.default.createElement(_WidgetPicker.default, {\n    onClick: handleClick,\n    onTouchEnd: handleClick,\n    onDoubleClick: handleDoubleClick,\n    className: (0, _classnames.default)(containerClassName, 'rw-widget-input')\n  }, /*#__PURE__*/_react.default.createElement(_FocusListContext.FocusListContext.Provider, {\n    value: tagList.context\n  }, /*#__PURE__*/_react.default.createElement(_MultiselectTagList.default, {\n    id: tagsId,\n    textAccessor: accessors.text,\n    clearTagIcon: clearTagIcon,\n    label: messages.tagsLabel(),\n    value: dataItems,\n    readOnly: isReadOnly,\n    disabled: disabled,\n    onDelete: handleDelete,\n    tagOptionComponent: tagOptionComponent,\n    renderTagValue: renderTagValue\n  }, /*#__PURE__*/_react.default.createElement(_MultiselectInput.default, Object.assign({}, inputProps, {\n    \"aria-haspopup\": true,\n    role: \"listbox\",\n    autoFocus: autoFocus,\n    tabIndex: tabIndex || 0,\n    \"aria-expanded\": !!currentOpen,\n    \"aria-busy\": !!busy,\n    \"aria-owns\": inputOwns,\n    value: currentSearch,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    placeholder: (currentValue.length && !showPlaceholderWithValues ? '' : placeholder) || '',\n    onKeyDown: handleSearchKeyDown,\n    onKeyUp: handleSearchKeyUp,\n    onChange: handleInputChange,\n    ref: inputRef\n  })))), /*#__PURE__*/_react.default.createElement(_PickerCaret.default, {\n    busy: busy,\n    spinner: busySpinner,\n    icon: selectIcon,\n    visible: focused\n  })), /*#__PURE__*/_react.default.createElement(_FocusListContext.FocusListContext.Provider, {\n    value: list.context\n  }, shouldRenderPopup && /*#__PURE__*/_react.default.createElement(_Popup.default, {\n    dropUp: dropUp,\n    open: currentOpen,\n    transition: popupTransition,\n    onEntering: () => listRef.current.scrollIntoView()\n  }, /*#__PURE__*/_react.default.createElement(ListComponent, Object.assign({}, listProps, {\n    id: listId,\n    data: data,\n    tabIndex: -1,\n    disabled: disabled,\n    searchTerm: currentSearch,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    groupBy: groupBy,\n    optionComponent: optionComponent,\n    onChange: (d, meta) => handleSelect(d, meta.originalEvent),\n    \"aria-live\": \"polite\",\n    \"aria-labelledby\": inputId,\n    \"aria-hidden\": !currentOpen,\n    ref: listRef,\n    messages: {\n      emptyList: lengthWithoutValues ? messages.emptyFilter : messages.emptyList\n    }\n  })), showCreateOption && /*#__PURE__*/_react.default.createElement(_AddToListOption.default, {\n    onSelect: handleCreate\n  }, messages.createOption(currentValue, currentSearch)))));\n});\n\nMultiselectImpl.displayName = 'MultiselectImpl';\nMultiselectImpl.propTypes = propTypes;\nvar _default = MultiselectImpl;\nexports.default = _default;","map":{"version":3,"sources":["D:/workspace2021/projectmanagement/client/node_modules/react-widgets/lib/Multiselect.js"],"names":["Object","defineProperty","exports","value","default","_classnames","_interopRequireDefault","require","_closest","_propTypes","_react","_interopRequireWildcard","_uncontrollable","_AddToListOption","_Icon","_List","_FocusListContext","_MultiselectInput","_MultiselectTagList","_Popup","_Widget","_WidgetPicker","_messages","_A11y","_Filter","CustomPropTypes","_canShowCreate","_Accessors","_useDropdownToggle","_useFocusManager","_WidgetHelpers","_PickerCaret","_getRequireWildcardCache","WeakMap","cache","obj","__esModule","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","i","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","sourceKeys","keys","ENTER","INSERT","REMOVE","propTypes","data","array","onChange","func","searchTerm","string","onSearch","open","bool","handleOpen","dataKey","accessor","textField","renderTagValue","renderListItem","renderListGroup","groupBy","allowCreate","oneOf","onSelect","onCreate","busy","selectIcon","node","clearTagIcon","busySpinner","dropUp","popupTransition","elementType","containerClassName","inputProps","object","listProps","autoFocus","placeholder","showPlaceholderWithValues","disabled","acceptsArray","readOnly","messages","shape","message","emptyList","emptyFilter","createOption","tagsLabel","selectedItems","noneSelected","removeLabel","EMPTY_ARRAY","useMultiselectData","accessors","filter","useMemo","some","v","matches","useFilteredData","text","MultiselectImpl","forwardRef","Multiselect","_ref","outerRef","id","defaultValue","defaultOpen","onToggle","focusFirstItem","defaultSearchTerm","className","times","tabIndex","onKeyDown","onBlur","onFocus","optionComponent","tagOptionComponent","listComponent","ListComponent","rawData","userMessages","elementProps","currentValue","handleChange","useUncontrolledProp","currentOpen","currentSearch","handleSearch","ref","useRef","inputRef","listRef","inputId","useInstanceId","tagsId","notifyId","listId","createId","activeTagId","activeOptionId","useAccessors","useMessagesWithDefaults","toggle","isDisabled","isReadOnly","focusEvents","focused","didHandle","event","focus","close","clearSearch","tagList","dataItems","map","item","findOrSelf","lengthWithoutValues","list","useFocusList","scope","scopeSelector","activeId","showCreateOption","focusedTag","getFocused","useEffect","setActiveDescendant","current","focusedItem","handleDelete","dataItem","change","deletingRef","handleSearchKeyDown","e","currentTarget","handleSearchKeyUp","handleInputChange","search","handleClick","handleDoubleClick","select","handleSelect","originalEvent","undefined","CREATE_OPTION","handleCreate","notify","handleKeyDown","preventDefault","keyCode","altKey","ctrlKey","defaultPrevented","next","prev","last","first","behavior","toDataItem","action","nextDataItems","concat","d","lastValue","nextSearchTerm","lastSearchTerm","useImperativeHandle","shouldRenderPopup","useFirstFocusedRender","itemLabels","shouldRenderTags","inputOwns","createElement","assign","role","onClick","onTouchEnd","onDoubleClick","FocusListContext","Provider","context","textAccessor","label","onDelete","onKeyUp","spinner","icon","visible","transition","onEntering","scrollIntoView","renderItem","renderGroup","meta","displayName","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _closest = _interopRequireDefault(require(\"dom-helpers/closest\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _uncontrollable = require(\"uncontrollable\");\n\nvar _AddToListOption = _interopRequireWildcard(require(\"./AddToListOption\"));\n\nvar _Icon = require(\"./Icon\");\n\nvar _List = _interopRequireDefault(require(\"./List\"));\n\nvar _FocusListContext = require(\"./FocusListContext\");\n\nvar _MultiselectInput = _interopRequireDefault(require(\"./MultiselectInput\"));\n\nvar _MultiselectTagList = _interopRequireDefault(require(\"./MultiselectTagList\"));\n\nvar _Popup = _interopRequireDefault(require(\"./Popup\"));\n\nvar _Widget = _interopRequireDefault(require(\"./Widget\"));\n\nvar _WidgetPicker = _interopRequireDefault(require(\"./WidgetPicker\"));\n\nvar _messages = require(\"./messages\");\n\nvar _A11y = require(\"./A11y\");\n\nvar _Filter = require(\"./Filter\");\n\nvar CustomPropTypes = _interopRequireWildcard(require(\"./PropTypes\"));\n\nvar _canShowCreate = _interopRequireDefault(require(\"./canShowCreate\"));\n\nvar _Accessors = require(\"./Accessors\");\n\nvar _useDropdownToggle = _interopRequireDefault(require(\"./useDropdownToggle\"));\n\nvar _useFocusManager = _interopRequireDefault(require(\"./useFocusManager\"));\n\nvar _WidgetHelpers = require(\"./WidgetHelpers\");\n\nvar _PickerCaret = _interopRequireDefault(require(\"./PickerCaret\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nconst ENTER = 13;\nconst INSERT = 'insert';\nconst REMOVE = 'remove';\nlet propTypes = {\n  data: _propTypes.default.array,\n  //-- controlled props --\n  value: _propTypes.default.array,\n\n  /**\n   * @type {function (\n   *  dataItems: ?any[],\n   *  metadata: {\n   *    dataItem: any,\n   *    action: 'insert' | 'remove',\n   *    originalEvent: SyntheticEvent,\n   *    lastValue: ?any[],\n   *    searchTerm: ?string\n   *  }\n   * ): void}\n   */\n  onChange: _propTypes.default.func,\n  searchTerm: _propTypes.default.string,\n\n  /**\n   * @type {function (\n   *  searchTerm: ?string,\n   *  metadata: {\n   *    action: 'clear' | 'input',\n   *    lastSearchTerm: ?string,\n   *    originalEvent: SyntheticEvent,\n   *  }\n   * ): void}\n   */\n  onSearch: _propTypes.default.func,\n  open: _propTypes.default.bool,\n  handleOpen: _propTypes.default.func,\n  //-------------------------------------------\n  dataKey: CustomPropTypes.accessor,\n  textField: CustomPropTypes.accessor,\n  renderTagValue: _propTypes.default.func,\n  renderListItem: _propTypes.default.func,\n  renderListGroup: _propTypes.default.func,\n  groupBy: CustomPropTypes.accessor,\n  allowCreate: _propTypes.default.oneOf([true, false, 'onFilter']),\n\n  /**\n   *\n   * @type { (dataItem: ?any, metadata: { originalEvent: SyntheticEvent }) => void }\n   */\n  onSelect: _propTypes.default.func,\n\n  /**\n   * @type { (searchTerm: string) => void }\n   */\n  onCreate: _propTypes.default.func,\n  busy: _propTypes.default.bool,\n\n  /** Specify the element used to render the select (down arrow) icon. */\n  selectIcon: _propTypes.default.node,\n\n  /** Specify the element used to render tag clear icons. */\n  clearTagIcon: _propTypes.default.node,\n\n  /** Specify the element used to render the busy indicator */\n  busySpinner: _propTypes.default.node,\n  dropUp: _propTypes.default.bool,\n  popupTransition: _propTypes.default.elementType,\n\n  /** Adds a css class to the input container element. */\n  containerClassName: _propTypes.default.string,\n  inputProps: _propTypes.default.object,\n  listProps: _propTypes.default.object,\n  autoFocus: _propTypes.default.bool,\n  placeholder: _propTypes.default.string,\n\n  /** Continue to show the input placeholder even if tags are selected */\n  showPlaceholderWithValues: _propTypes.default.bool,\n  disabled: CustomPropTypes.disabled.acceptsArray,\n  readOnly: CustomPropTypes.disabled,\n  messages: _propTypes.default.shape({\n    open: CustomPropTypes.message,\n    emptyList: CustomPropTypes.message,\n    emptyFilter: CustomPropTypes.message,\n    createOption: CustomPropTypes.message,\n    tagsLabel: CustomPropTypes.message,\n    selectedItems: CustomPropTypes.message,\n    noneSelected: CustomPropTypes.message,\n    removeLabel: CustomPropTypes.message\n  })\n};\nconst EMPTY_ARRAY = [];\n\nfunction useMultiselectData(value = EMPTY_ARRAY, data, accessors, filter, searchTerm) {\n  data = (0, _react.useMemo)(() => data.filter(i => !value.some(v => accessors.matches(i, v))), [data, value, accessors]);\n  return [(0, _Filter.useFilteredData)(data, filter || false, searchTerm, accessors.text), data.length];\n}\n\n/**\n * ---\n * shortcuts:\n *   - { key: left arrow, label: move focus to previous tag }\n *   - { key: right arrow, label: move focus to next tag }\n *   - { key: delete, deselect focused tag }\n *   - { key: backspace, deselect next tag }\n *   - { key: alt + up arrow, label: close Multiselect }\n *   - { key: down arrow, label: open Multiselect, and move focus to next item }\n *   - { key: up arrow, label: move focus to previous item }\n *   - { key: home, label: move focus to first item }\n *   - { key: end, label: move focus to last item }\n *   - { key: enter, label: select focused item }\n *   - { key: ctrl + enter, label: create new tag from current searchTerm }\n *   - { key: any key, label: search list for item starting with key }\n * ---\n *\n * A select listbox alternative.\n *\n * @public\n */\nconst MultiselectImpl = _react.default.forwardRef(function Multiselect(_ref, outerRef) {\n  let {\n    dataKey,\n    textField,\n    autoFocus,\n    id,\n    value,\n    defaultValue = [],\n    onChange,\n    open,\n    defaultOpen = false,\n    onToggle,\n    focusFirstItem = false,\n    searchTerm,\n    defaultSearchTerm = '',\n    onSearch,\n    filter = 'startsWith',\n    allowCreate = false,\n    className,\n    containerClassName,\n    placeholder,\n    busy,\n    disabled,\n    readOnly,\n    selectIcon,\n    clearTagIcon = _Icon.times,\n    busySpinner,\n    dropUp,\n    tabIndex,\n    popupTransition,\n    showPlaceholderWithValues = false,\n    onSelect,\n    onCreate,\n    onKeyDown,\n    onBlur,\n    onFocus,\n    inputProps,\n    listProps,\n    renderListItem,\n    renderListGroup,\n    renderTagValue,\n    optionComponent,\n    tagOptionComponent,\n    groupBy,\n    listComponent: ListComponent = _List.default,\n    data: rawData = [],\n    messages: userMessages\n  } = _ref,\n      elementProps = _objectWithoutProperties(_ref, [\"dataKey\", \"textField\", \"autoFocus\", \"id\", \"value\", \"defaultValue\", \"onChange\", \"open\", \"defaultOpen\", \"onToggle\", \"focusFirstItem\", \"searchTerm\", \"defaultSearchTerm\", \"onSearch\", \"filter\", \"allowCreate\", \"className\", \"containerClassName\", \"placeholder\", \"busy\", \"disabled\", \"readOnly\", \"selectIcon\", \"clearTagIcon\", \"busySpinner\", \"dropUp\", \"tabIndex\", \"popupTransition\", \"showPlaceholderWithValues\", \"onSelect\", \"onCreate\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"inputProps\", \"listProps\", \"renderListItem\", \"renderListGroup\", \"renderTagValue\", \"optionComponent\", \"tagOptionComponent\", \"groupBy\", \"listComponent\", \"data\", \"messages\"]);\n\n  let [currentValue, handleChange] = (0, _uncontrollable.useUncontrolledProp)(value, defaultValue, onChange);\n  const [currentOpen, handleOpen] = (0, _uncontrollable.useUncontrolledProp)(open, defaultOpen, onToggle);\n  const [currentSearch, handleSearch] = (0, _uncontrollable.useUncontrolledProp)(searchTerm, defaultSearchTerm, onSearch);\n  const ref = (0, _react.useRef)(null);\n  const inputRef = (0, _react.useRef)(null);\n  const listRef = (0, _react.useRef)(null);\n  const inputId = (0, _WidgetHelpers.useInstanceId)(id, '_input');\n  const tagsId = (0, _WidgetHelpers.useInstanceId)(id, '_taglist');\n  const notifyId = (0, _WidgetHelpers.useInstanceId)(id, '_notify_area');\n  const listId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox');\n  const createId = (0, _WidgetHelpers.useInstanceId)(id, '_createlist_option');\n  const activeTagId = (0, _WidgetHelpers.useInstanceId)(id, '_taglist_active_tag');\n  const activeOptionId = (0, _WidgetHelpers.useInstanceId)(id, '_listbox_active_option');\n  const accessors = (0, _Accessors.useAccessors)(textField, dataKey);\n  const messages = (0, _messages.useMessagesWithDefaults)(userMessages);\n  const toggle = (0, _useDropdownToggle.default)(currentOpen, handleOpen);\n  const isDisabled = disabled === true;\n  const isReadOnly = !!readOnly;\n  const [focusEvents, focused] = (0, _useFocusManager.default)(ref, {\n    disabled: isDisabled,\n    onBlur,\n    onFocus\n  }, {\n    didHandle(focused, event) {\n      if (focused) return focus();\n      toggle.close();\n      clearSearch(event);\n      tagList.focus(null);\n    }\n\n  });\n  const dataItems = (0, _react.useMemo)(() => currentValue.map(item => accessors.findOrSelf(rawData, item)), [rawData, currentValue, accessors]);\n  const [data, lengthWithoutValues] = useMultiselectData(dataItems, rawData, accessors, currentOpen ? filter : false, currentSearch);\n  const list = (0, _FocusListContext.useFocusList)({\n    scope: ref,\n    scopeSelector: '.rw-popup',\n    focusFirstItem,\n    activeId: activeOptionId\n  });\n  const tagList = (0, _FocusListContext.useFocusList)({\n    scope: ref,\n    scopeSelector: '.rw-multiselect-taglist',\n    activeId: activeTagId\n  });\n  const showCreateOption = (0, _canShowCreate.default)(allowCreate, {\n    searchTerm: currentSearch,\n    data,\n    dataItems,\n    accessors\n  });\n  /**\n   * Update aria when it changes on update\n   */\n\n  const focusedTag = tagList.getFocused();\n  (0, _react.useEffect)(() => {\n    if (currentOpen) return;\n    (0, _A11y.setActiveDescendant)(inputRef.current, focusedTag ? activeTagId : '');\n  }, [activeTagId, currentOpen, focusedTag]);\n  const focusedItem = list.getFocused();\n  (0, _react.useEffect)(() => {\n    if (!currentOpen) return; // if (focusedItem) tagList.focus(null)\n\n    (0, _A11y.setActiveDescendant)(inputRef.current, focusedItem ? activeOptionId : '');\n  }, [activeOptionId, currentOpen, focusedItem]);\n  /**\n   * Event Handlers\n   */\n\n  const handleDelete = (dataItem, event) => {\n    if (isDisabled || readOnly) return;\n    focus();\n    change(dataItem, event, REMOVE);\n  };\n\n  const deletingRef = (0, _react.useRef)(false);\n\n  const handleSearchKeyDown = e => {\n    if (e.key === 'Backspace' && e.currentTarget.value && !deletingRef.current) deletingRef.current = true;\n  };\n\n  const handleSearchKeyUp = e => {\n    if (e.key === 'Backspace' && deletingRef.current) {\n      deletingRef.current = false;\n    }\n  };\n\n  const handleInputChange = e => {\n    search(e.target.value, e, 'input');\n    toggle.open();\n  };\n\n  const handleClick = ({\n    target\n  }) => {\n    if (isDisabled || readOnly) return;\n    focus();\n\n    if ((0, _closest.default)(target, '.rw-select') && currentOpen) {\n      toggle.close();\n    } else toggle.open();\n  };\n\n  const handleDoubleClick = () => {\n    if (isDisabled || !inputRef.current) return;\n    focus();\n    if (inputRef.current) inputRef.current.select();\n  };\n\n  const handleSelect = (dataItem, originalEvent) => {\n    if (dataItem === undefined) return;\n\n    if (dataItem === _AddToListOption.CREATE_OPTION) {\n      handleCreate(originalEvent);\n      return;\n    }\n\n    (0, _WidgetHelpers.notify)(onSelect, [dataItem, {\n      originalEvent\n    }]);\n    change(dataItem, originalEvent, INSERT);\n    focus();\n  };\n\n  const handleCreate = event => {\n    (0, _WidgetHelpers.notify)(onCreate, [currentSearch]);\n    clearSearch(event);\n    focus();\n  };\n\n  const handleKeyDown = event => {\n    if (readOnly) {\n      event.preventDefault();\n      return;\n    }\n\n    let {\n      key,\n      keyCode,\n      altKey,\n      ctrlKey\n    } = event;\n    (0, _WidgetHelpers.notify)(onKeyDown, [event]);\n    if (event.defaultPrevented) return;\n\n    if (key === 'ArrowDown') {\n      event.preventDefault();\n\n      if (!currentOpen) {\n        toggle.open();\n        return;\n      }\n\n      list.focus(list.next());\n      tagList.focus(null);\n    } else if (key === 'ArrowUp' && (currentOpen || altKey)) {\n      event.preventDefault();\n\n      if (altKey) {\n        toggle.close();\n        return;\n      }\n\n      list.focus(list.prev());\n      tagList.focus(null);\n    } else if (key === 'End') {\n      event.preventDefault();\n\n      if (currentOpen) {\n        list.focus(list.last());\n        tagList.focus(null);\n      } else {\n        tagList.focus(tagList.last());\n        list.focus(null);\n      }\n    } else if (key === 'Home') {\n      event.preventDefault();\n      if (currentOpen) list.focus(list.first());else list.focus(tagList.first());\n    } else if (currentOpen && keyCode === ENTER) {\n      // using keyCode to ignore enter for japanese IME\n      event.preventDefault();\n\n      if (ctrlKey && showCreateOption) {\n        return handleCreate(event);\n      }\n\n      handleSelect(list.getFocused(), event);\n    } else if (key === 'Escape') {\n      if (currentOpen) toggle.close();else tagList.focus(null); //\n    } else if (!currentSearch && !deletingRef.current) {\n      //\n      if (key === 'ArrowLeft') {\n        tagList.focus(tagList.prev({\n          behavior: 'loop'\n        }));\n      } else if (key === 'ArrowRight') {\n        tagList.focus(tagList.next({\n          behavior: 'loop'\n        })); //\n      } else if (key === 'Delete' && tagList.getFocused()) {\n        handleDelete(tagList.getFocused(), event); //\n      } else if (key === 'Backspace') {\n        handleDelete(tagList.toDataItem(tagList.last()), event);\n      } else if (key === ' ' && !currentOpen) {\n        event.preventDefault();\n        toggle.open();\n      }\n    }\n  };\n  /**\n   * Methods\n   */\n\n\n  function change(dataItem, originalEvent, action) {\n    let nextDataItems = dataItems;\n\n    switch (action) {\n      case INSERT:\n        nextDataItems = nextDataItems.concat(dataItem);\n        break;\n\n      case REMOVE:\n        nextDataItems = nextDataItems.filter(d => d !== dataItem);\n        break;\n    }\n\n    handleChange(nextDataItems, {\n      action,\n      dataItem,\n      originalEvent,\n      searchTerm: currentSearch,\n      lastValue: currentValue\n    });\n    clearSearch(originalEvent);\n  }\n\n  function clearSearch(originalEvent) {\n    search('', originalEvent, 'clear');\n  }\n\n  function search(nextSearchTerm, originalEvent, action = 'input') {\n    if (nextSearchTerm !== currentSearch) handleSearch(nextSearchTerm, {\n      action,\n      originalEvent,\n      lastSearchTerm: currentSearch\n    });\n  }\n\n  function focus() {\n    if (inputRef.current) inputRef.current.focus();\n  }\n  /**\n   * Render\n   */\n\n\n  (0, _react.useImperativeHandle)(outerRef, () => ({\n    focus\n  }));\n  let shouldRenderPopup = (0, _WidgetHelpers.useFirstFocusedRender)(focused, currentOpen);\n  let itemLabels = dataItems.map(item => accessors.text(item));\n  let shouldRenderTags = !!dataItems.length;\n  let inputOwns = `${listId} ${notifyId} ` + (shouldRenderTags ? tagsId : '') + (showCreateOption ? createId : '');\n  return /*#__PURE__*/_react.default.createElement(_Widget.default, Object.assign({}, elementProps, {\n    ref: ref,\n    open: currentOpen,\n    dropUp: dropUp,\n    focused: focused,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    onKeyDown: handleKeyDown\n  }, focusEvents, {\n    className: (0, _classnames.default)(className, 'rw-multiselect')\n  }), /*#__PURE__*/_react.default.createElement(\"span\", {\n    id: notifyId,\n    role: \"status\",\n    className: \"rw-sr\",\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": \"true\",\n    \"aria-relevant\": \"all\"\n  }, focused && (dataItems.length ? messages.selectedItems(itemLabels) : messages.noneSelected())), /*#__PURE__*/_react.default.createElement(_WidgetPicker.default, {\n    onClick: handleClick,\n    onTouchEnd: handleClick,\n    onDoubleClick: handleDoubleClick,\n    className: (0, _classnames.default)(containerClassName, 'rw-widget-input')\n  }, /*#__PURE__*/_react.default.createElement(_FocusListContext.FocusListContext.Provider, {\n    value: tagList.context\n  }, /*#__PURE__*/_react.default.createElement(_MultiselectTagList.default, {\n    id: tagsId,\n    textAccessor: accessors.text,\n    clearTagIcon: clearTagIcon,\n    label: messages.tagsLabel(),\n    value: dataItems,\n    readOnly: isReadOnly,\n    disabled: disabled,\n    onDelete: handleDelete,\n    tagOptionComponent: tagOptionComponent,\n    renderTagValue: renderTagValue\n  }, /*#__PURE__*/_react.default.createElement(_MultiselectInput.default, Object.assign({}, inputProps, {\n    \"aria-haspopup\": true,\n    role: \"listbox\",\n    autoFocus: autoFocus,\n    tabIndex: tabIndex || 0,\n    \"aria-expanded\": !!currentOpen,\n    \"aria-busy\": !!busy,\n    \"aria-owns\": inputOwns,\n    value: currentSearch,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    placeholder: (currentValue.length && !showPlaceholderWithValues ? '' : placeholder) || '',\n    onKeyDown: handleSearchKeyDown,\n    onKeyUp: handleSearchKeyUp,\n    onChange: handleInputChange,\n    ref: inputRef\n  })))), /*#__PURE__*/_react.default.createElement(_PickerCaret.default, {\n    busy: busy,\n    spinner: busySpinner,\n    icon: selectIcon,\n    visible: focused\n  })), /*#__PURE__*/_react.default.createElement(_FocusListContext.FocusListContext.Provider, {\n    value: list.context\n  }, shouldRenderPopup && /*#__PURE__*/_react.default.createElement(_Popup.default, {\n    dropUp: dropUp,\n    open: currentOpen,\n    transition: popupTransition,\n    onEntering: () => listRef.current.scrollIntoView()\n  }, /*#__PURE__*/_react.default.createElement(ListComponent, Object.assign({}, listProps, {\n    id: listId,\n    data: data,\n    tabIndex: -1,\n    disabled: disabled,\n    searchTerm: currentSearch,\n    accessors: accessors,\n    renderItem: renderListItem,\n    renderGroup: renderListGroup,\n    groupBy: groupBy,\n    optionComponent: optionComponent,\n    onChange: (d, meta) => handleSelect(d, meta.originalEvent),\n    \"aria-live\": \"polite\",\n    \"aria-labelledby\": inputId,\n    \"aria-hidden\": !currentOpen,\n    ref: listRef,\n    messages: {\n      emptyList: lengthWithoutValues ? messages.emptyFilter : messages.emptyList\n    }\n  })), showCreateOption && /*#__PURE__*/_react.default.createElement(_AddToListOption.default, {\n    onSelect: handleCreate\n  }, messages.createOption(currentValue, currentSearch)))));\n});\n\nMultiselectImpl.displayName = 'MultiselectImpl';\nMultiselectImpl.propTypes = propTypes;\nvar _default = MultiselectImpl;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}